<% content_for :head do  %>
  <% set_meta_tags description: 'Archive of all Pink Wug comics',
                      keywords: 'Pink Wug, all comics, past, previous, archive' %>
  <%= display_meta_tags og: {
    title: :title,
    type: 'website',
    url: strip_url(@strip),
    image: url_for(@strip.image),
    description: :description,
    site_name: 'Pink Wug' 
  } %>
  <%= display_meta_tags twitter: {
    card: 'summary_large_image',
    site: '@pinkwug',
    title: :title,
    description: :description,
    creator: '@pinkwug',
    image: url_for(@strip.image)
  } %>
  <%= stylesheet_link_tag "index" %>
<% end %>

<div class="div">
  <div class="img_container">
    <button class="toggle gallery">
      <span class="visually-hidden">Toggle Line View</span>
    </button>
  </div>
  <h1><%= title 'Comic Archive' %></h1>
  <div class="table gallery">
    <div class="row gallery">
      <div class="cell">Comic</div>
      <button class="cell title">
        <span>Title</span>
      </button>
      <button class="cell date desc">
        <span>Date</span>
      </button>
    </div>

  <% @strips_months.each do |month, strips| %>
    <!-- <button>
      <span><%= month.strftime('%b %Y') %></span>
    </button>
    <div class="big_row"> -->
      <% for strip in strips %>
        <div class="row gallery">
          <%= link_to image_tag(url_for(strip.image.variant(resize_to_limit:[400,400])), class: 'cell', alt: strip.title, loading: 'lazy'), strip %>
          <p class="cell"><%= strip.title %></p>
          <p class="cell"><%= strip.created_at.strftime("%m/%d/%Y") %></p>
        </div>
      <% end %>      
    <!-- </div> -->
  <% end %>
  </div>
</div>
<% content_for :javascripts do %>
  <%= javascript_include_tag "index.js", "data-turbolinks-track" => true %>
  <script>
    document.querySelector('.table').lastElementChild.querySelectorAll('.cell')[0].addEventListener('load', addWhiteSpace('load'));
  </script>
<% end %>